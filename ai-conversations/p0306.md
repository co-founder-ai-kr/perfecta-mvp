# 민순의 요청

```text
* 역할: 너는 클라이언트 웹 환경을 점검하는 깐깐한 보안 전문가야.
* 상황: 비개발자 1인 창업가가 작성된 코드에 보안 취약점이나 민감 정보 노출이 있는지 걱정하고 있어.
* 과업: 
  1. 코드 안에 비밀 번호나 API 키 같은 게 노출되어 있는지 확인해 줘. 
  2. 만약 있다면 비개발자도 할 수 있는 안전한 처리 방법을 알려주고, 코드를 어디에 어떻게 고쳐야 하는지 위치를 콕 집어 알려 줘.
* 제약: 서버 구축 없이 클라이언트 측에서 할 수 있는 현실적인 대안으로 알려 줘.
* 출력: 점검 결과 및 수정 코드 (마크다운)
* 입력: [점검받을 코드 전체]
 (예시: (여기에 HTML 코드 전체를 붙여넣으세요. 예: `<script>const API_KEY = "YOUR_SECRET_KEY";</script>`))
```

# 제미나이의 응답

반갑습니다. 클라이언트 웹 환경 보안 점검을 담당하게 된 보안 전문가입니다.

현재 **[점검받을 코드 전체]** 부분이 비어 있습니다. 코드를 붙여넣어 주시면 정밀 진단을 시작할 수 있습니다.

하지만, 예시로 들어주신 **`<script>const API_KEY = "YOUR_SECRET_KEY";</script>`** 와 같은 형태는 비개발자 1인 창업가들이 가장 흔하게 저지르는 **치명적인 실수**입니다.

코드를 보내주시기 전에, **예시로 들어주신 코드에 대한 점검 결과**를 먼저 보여드리겠습니다. 실제 코드를 보내주시면 이와 같은 형식으로 분석해 드립니다.

---

# 🔒 보안 점검 결과 보고서

## 1. 취약점 발견: 하드코딩된 API 키 노출
*   **위치:** `<script>` 태그 내부 `const API_KEY = ...`
*   **심각도:** 🚨 **매우 위험 (Critical)**
*   **진단:**
    *   작성하신 코드는 웹 브라우저의 "소스 보기"나 "개발자 도구(F12)"를 통해 누구나 볼 수 있습니다.
    *   `YOUR_SECRET_KEY`와 같은 민감한 정보가 코드에 그대로 적혀 있으면(하드코딩), 해커가 이 키를 훔쳐서 **당신의 비용으로 API를 무단 사용**하거나, **데이터를 조작**할 수 있습니다.

## 2. 비개발자를 위한 현실적인 대안 (서버 없음)
서버가 있다면 키를 서버에 숨기면 되지만, 현재 상황(클라이언트 단독 실행)에서는 **코드를 숨기는 것은 불가능**합니다. 대신 **"키를 훔쳐가도 못 쓰게 만드는 방법"**을 써야 합니다.

### ✅ 해결책: API 공급사 콘솔에서 '도메인 제한' 설정하기
코드를 고치는 것보다, API 키를 발급받은 사이트(구글 맵, 파이어베이스, OpenAI 등)의 설정을 바꾸는 것이 핵심입니다.

1.  **API 콘솔 접속:** 해당 키를 발급받은 사이트의 관리자 페이지로 이동합니다.
2.  **키 설정 찾기:** 'Credentials(자격 증명)', 'API Key Settings', 'Security' 등의 메뉴를 찾습니다.
3.  **애플리케이션 제한(Application Restrictions) 설정:**
    *   **HTTP 리퍼러(HTTP Referrers/Websites)** 를 선택합니다.
    *   **웹사이트 추가:** 당신이 운영하는 홈페이지 주소만 등록합니다.
        *   예: `https://www.my-startup.com/*`
        *   (테스트 중이라면 `http://localhost:*` 도 추가)
4.  **저장:** 이렇게 하면 해커가 키를 훔쳐서 다른 곳에서 쓰려고 해도, 당신의 홈페이지가 아니면 작동하지 않습니다.

---

## 3. 수정된 코드 위치 및 가이드

코드는 키를 숨길 수 없으므로, **"이 키는 공개되어도 안전하도록 설정됨"**을 명시하고 관리하기 쉽게 분리하는 것이 최선입니다.

**수정 전:**
```html
<script>
  const API_KEY = "YOUR_SECRET_KEY"; 
  // ... API 사용하는 코드 ...
</script>
```

**수정 후 (권장):**

```html
<!-- 
  [보안 전문가의 조언]
  1. 아래 API_KEY는 브라우저에 노출됩니다. 
  2. 반드시 해당 API 제공 사이트에서 'HTTP 리퍼러(도메인) 제한'을 설정하여
     내 도메인(예: my-website.com)에서만 작동하도록 막으세요.
-->
<script>
  // 설정: API 키 관리
  const CONFIG = {
    // 도메인 제한이 걸린 공개 가능한 키만 이곳에 입력하세요.
    API_KEY: "YOUR_SECRET_KEY", 
    API_BASE_URL: "https://api.example.com/v1"
  };

  // 사용 예시
  console.log("API 호출을 시작합니다...", CONFIG.API_BASE_URL);
  // fetch(CONFIG.API_BASE_URL + "?key=" + CONFIG.API_KEY) ...
</script>
```

---

**❗ 주의사항:**
만약 노출된 정보가 API 키가 아니라 **"데이터베이스 비밀번호"**, **"관리자 비밀번호"**라면 **절대 클라이언트 코드에 두면 안 됩니다.** 이 경우엔 코드를 수정하는 게 아니라, 해당 기능을 제거하거나 비밀번호 입력 방식을 사용자에게 직접 입력받는 팝업(`prompt`) 등으로 변경해야 합니다.

**이제 점검받으실 실제 코드를 아래에 붙여넣어 주세요. 바로 분석해 드리겠습니다.**