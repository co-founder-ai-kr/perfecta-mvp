# 민순의 요청

```text
* 역할: 너는 구글 AI 스튜디오(Google AI Studio) 및 앱스 스크립트 가이드야.
* 상황: 제미나이 API 키를 발급받아 앱스 스크립트의 '스크립트 속성'에 안전하게 저장하려고 해. 하지만 메뉴 위치를 못 찾겠어.
* 과업:
  1. 현재 시점 기준으로 API 키 발급 메뉴의 위치를 알려 줘.
  2. 앱스 스크립트 에디터에서 '스크립트 속성(Script Properties)'을 찾아 키를 저장하는 경로를 설명해 줘.
* 제약: 키를 코드에 직접 붙여넣지 않도록 주의 사항을 포함하여 단계별로 설명해 줘.
* 출력: 단계별 가이드
```

# 제미나이의 응답

반갑습니다! 구글 AI 스튜디오 및 앱스 스크립트 가이드입니다.

API 키를 코드에 직접 노출하지 않고 '스크립트 속성'에 저장하려는 것은 보안상 **매우 훌륭한 습관**입니다. 앱스 스크립트 에디터의 UI가 개편되면서 메뉴 위치가 변경되어 찾기 어려우셨을 겁니다.

현재 시점(최신 UI) 기준으로 제미나이 API 키 발급부터 앱스 스크립트 저장까지 단계별로 안내해 드리겠습니다.

---

### 1단계: 제미나이 API 키 발급 위치 (Google AI Studio)

먼저 API 키를 발급받거나 복사해야 합니다.

1.  **Google AI Studio 접속**: [aistudio.google.com](https://aistudio.google.com/)으로 이동하여 로그인합니다.
2.  **메뉴 찾기**: 화면 **왼쪽 상단**에 있는 **[Get API key]** 버튼을 클릭합니다. (또는 왼쪽 사이드바의 열쇠 모양 아이콘)
3.  **키 생성**:
    *   **Create API key** 버튼을 누릅니다.
    *   'Create API key in new project'(새 프로젝트에서 생성) 또는 기존 Google Cloud 프로젝트를 선택하여 키를 생성합니다.
4.  **복사**: 생성된 키를 복사해 둡니다. (이 키는 타인에게 절대 공유하지 마세요.)

---

### 2단계: 앱스 스크립트에서 '스크립트 속성' 찾기 및 저장

많은 분들이 상단 메뉴(파일, 수정 등)에서 이 기능을 찾으려다 실패합니다. 최신 에디터에서는 **왼쪽 사이드바**에 위치해 있습니다.

1.  **앱스 스크립트 프로젝트 열기**: 작업 중인 구글 스프레드시트의 `확장 프로그램` > `Apps Script`를 누르거나 스크립트 에디터를 엽니다.
2.  **프로젝트 설정(Project Settings) 진입**:
    *   화면 **왼쪽 사이드바**를 보세요.
    *   맨 아래쪽에 있는 **톱니바퀴 아이콘 (⚙️ 프로젝트 설정)**을 클릭합니다.
3.  **스크립트 속성(Script Properties) 찾기**:
    *   설정 페이지가 열리면 스크롤을 **맨 아래**로 내립니다.
    *   **'스크립트 속성'**이라는 섹션이 보일 것입니다.
4.  **키 저장하기**:
    *   **[스크립트 속성 수정]** 버튼을 클릭합니다.
    *   **[스크립트 속성 추가]**를 클릭합니다.
    *   **속성(Property)**: 키의 이름입니다. 예: `GEMINI_API_KEY` (대문자와 언더바 사용 권장)
    *   **값(Value)**: 아까 복사한 **API 키**를 여기에 붙여넣습니다.
    *   **[스크립트 속성 저장]** 버튼을 눌러 완료합니다.

---

### 3단계: 코드에서 안전하게 불러오기 (⚠️ 중요)

이제 코드에 키를 직접 붙여넣지 않고, 저장된 속성을 불러와서 사용해야 합니다.

**❌ 잘못된 예 (보안 위험):**
```javascript
// 절대 이렇게 하지 마세요! 코드가 유출되면 키도 유출됩니다.
const apiKey = "AIzaSyD..."; 
```

**✅ 올바른 예 (안전함):**
```javascript
function callGemini() {
  // 스크립트 속성에 저장된 값을 불러옵니다.
  // 'GEMINI_API_KEY'는 2단계에서 설정한 '속성' 이름과 정확히 같아야 합니다.
  const apiKey = PropertiesService.getScriptProperties().getProperty('GEMINI_API_KEY');
  
  if (!apiKey) {
    throw new Error("API 키가 설정되지 않았습니다. 프로젝트 설정 > 스크립트 속성을 확인하세요.");
  }

  // 이후 apiKey 변수를 사용하여 API를 호출합니다.
  console.log("API 키를 안전하게 불러왔습니다.");
}
```

### 요약
*   **API 키 메뉴**: Google AI Studio 왼쪽 상단 **[Get API key]**
*   **스크립트 속성 메뉴**: Apps Script 에디터 왼쪽 사이드바 **[⚙️ 프로젝트 설정]** > 맨 아래 **[스크립트 속성]**

이 가이드대로 진행하시면 안전하게 제미나이 API를 연동하실 수 있습니다. 추가로 궁금한 점이 있다면 언제든 물어봐 주세요!