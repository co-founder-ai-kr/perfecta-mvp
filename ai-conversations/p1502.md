# 민순의 요청

```text
* 역할: 너는 자바스크립트 코드 구조 개선 전문가야.
* 상황: 현재 '선물' 주제에 묶인 코드를 다른 아이템(책, 음식 등)에도 쓸 수 있게 범용화하고 싶어.
* 과업: 선물 추천 기능만 떼어내서, 다음 프로젝트에서도 바로 쓸 수 있는 독립적인 함수 템플릿으로 만들어 줘.
* 제약: 
  - '선물'이라고 된 부분들을 '상품'이나 '아이템'처럼 일반적인 단어로 바꿔 줘.
  - 코드 내의 변수명 `gift`는 `item`으로, `giftList`는 `itemList`로 일괄 변경해 줘.
  - 추천 로직(가격 비교, 태그 매칭) 자체는 건드리지 말고 그대로 유지해 줘.
  - 각 줄에는 비즈니스 의도를 설명하는 주석을 달아 줘.
* 출력: 범용화된 자바스크립트 코드 블록.
* 입력: [기존 코드]
 (예시: 선물 추천 로직이 포함된 script.js 코드)
```

# 제미나이의 응답

제공해주신 입력 코드가 없으므로, 일반적인 선물 추천 로직(가격 한도 내에서 태그가 일치하는 항목 필터링)을 가정하여 **범용화된 함수 템플릿**을 작성해 드립니다.

이 코드는 '선물'이라는 특정 도메인을 벗어나 책, 음식, 전자제품 등 어떤 **아이템(Item)**에도 바로 적용할 수 있도록 구조화되었습니다.

```javascript
/**
 * [범용 상품 추천 함수 템플릿]
 * 
 * 이 함수는 특정 주제(선물)에 국한되지 않고, 
 * 가격(price)과 태그(tags) 속성을 가진 모든 객체 배열에 대해 작동합니다.
 * 
 * @param {Array} itemList - 추천 대상이 될 전체 상품/아이템 목록 (예: 책 목록, 음식 메뉴 등)
 * @param {number} maxPrice - 사용자가 설정한 최대 예산 (가격 상한선)
 * @param {Array} userTags - 사용자가 선호하는 키워드나 카테고리 태그 목록
 * @returns {Array} - 조건에 부합하는 추천 아이템 목록
 */
function recommendItems(itemList, maxPrice, userTags) {
    // 입력된 전체 아이템 목록을 순회하며 필터링 조건을 적용합니다. (비즈니스 로직 시작)
    return itemList.filter(item => {
        
        // 1. 가격 유효성 검증: 아이템의 가격이 사용자의 예산 범위 내인지 확인합니다.
        const isWithinBudget = item.price <= maxPrice;

        // 2. 태그 매칭 로직: 아이템이 가진 태그 중 사용자의 선호 태그와 일치하는 것이 하나라도 있는지 확인합니다.
        // (기존 로직 유지: some 메서드를 사용하여 교집합 존재 여부만 판단)
        const hasMatchingTag = item.tags.some(tag => userTags.includes(tag));

        // 3. 최종 추천 여부 결정: 예산 조건과 태그 매칭 조건이 모두 참(True)일 때만 결과에 포함합니다.
        return isWithinBudget && hasMatchingTag;
    });
}

// -------------------------------------------------------
// [사용 예시 1: 책 추천 시스템으로 활용 시]
// -------------------------------------------------------

// 데이터 정의 (기존 giftList -> itemList로 변경됨)
const bookList = [
    { id: 1, name: "자바스크립트 완벽 가이드", price: 35000, tags: ["IT", "공부"] },
    { id: 2, name: "해리포터", price: 15000, tags: ["소설", "판타지"] },
    { id: 3, name: "가성비 요리책", price: 12000, tags: ["요리", "실용"] }
];

// 함수 실행
const recommendedBooks = recommendItems(bookList, 20000, ["소설", "요리"]);
// 결과: 해리포터, 가성비 요리책 (2만원 이하이면서 소설 혹은 요리 태그가 있는 책)


// -------------------------------------------------------
// [사용 예시 2: 음식 메뉴 추천으로 활용 시]
// -------------------------------------------------------

const foodList = [
    { id: 1, name: "스테이크", price: 50000, tags: ["고기", "양식"] },
    { id: 2, name: "떡볶이", price: 5000, tags: ["분식", "매운맛"] }
];

// 함수 실행
const recommendedFoods = recommendItems(foodList, 10000, ["분식"]);
// 결과: 떡볶이
```

### 💡 변경 사항 요약
1.  **변수명 변경**: `gift` → `item`, `giftList` → `itemList`로 변경하여 데이터의 성격이 특정되지 않도록 했습니다.
2.  **함수 독립성 확보**: 전역 변수를 참조하는 대신, `itemList`를 인자(Parameter)로 받도록 수정하여 어떤 데이터셋이든 넣을 수 있게 만들었습니다.
3.  **주석 강화**: 각 라인이 어떤 비즈니스 의도(예산 확인, 취향 매칭)를 가지는지 명시했습니다.